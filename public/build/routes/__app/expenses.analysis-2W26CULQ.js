import{a as C}from"/build/_shared/chunk-2V6YUO4N.js";import{a as x}from"/build/_shared/chunk-ZKONVZUT.js";import{a as S}from"/build/_shared/chunk-KBSTBQNH.js";import{g as p,i as v,n as h}from"/build/_shared/chunk-WCWGYFVK.js";import"/build/_shared/chunk-6ZWGV7J6.js";import{a as A,b as d}from"/build/_shared/chunk-LMXH6R3J.js";import{c as s}from"/build/_shared/chunk-Q3IECNXJ.js";var i=s(d()),E=({maxValue:t,value:a,label:n})=>{let r="0%";return t>0&&(r=Math.round(a/t*100)+"%"),(0,i.jsxs)("div",{className:"chart-bar",children:[(0,i.jsx)("div",{className:"chart-bar--inner",children:(0,i.jsx)("div",{className:"chart-bar--fill",style:{height:r}})}),(0,i.jsx)("div",{className:"chart-bar--label",children:n})]})},f=E;var u=s(d());function w({expenses:t}){let a=[{label:"Jan",value:0},{label:"Feb",value:0},{label:"Mar",value:0},{label:"Apr",value:0},{label:"May",value:0},{label:"Jun",value:0},{label:"Jul",value:0},{label:"Aug",value:0},{label:"Sep",value:0},{label:"Oct",value:0},{label:"Nov",value:0},{label:"Dec",value:0}];for(let o of t){let m=new Date(o.date).getMonth();a[m].value+=o.amount}let n=a.map(o=>o.value),r=Math.max(...n);return(0,u.jsxs)("section",{children:[(0,u.jsx)("h2",{children:"Monthly Expenses"}),(0,u.jsx)("ol",{className:"chart",children:a.map(o=>(0,u.jsx)(f,{value:o.value,maxValue:r,label:o.label},o.label))})]})}var b=w;var g=s(A()),e=s(d());function F(t){let a=t.map(c=>+c.amount),n=Math.max(...a),r=Math.min(...a),o=t.reduce((c,y)=>y.amount+c,0),m=o/t.length;return{minAmount:r,maxAmount:n,sum:o,mean:m}}function N({expenses:t}){let{minAmount:a,maxAmount:n,sum:r,mean:o}=(0,g.useMemo)(()=>F(t),[t]);return(0,e.jsxs)("section",{children:[(0,e.jsx)("h2",{children:"Summary Statistics"}),(0,e.jsxs)("dl",{id:"expense-statistics",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("dt",{children:"Total"}),(0,e.jsxs)("dd",{children:["\xA3",r.toFixed(2)]})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("dt",{children:"Average"}),(0,e.jsxs)("dd",{children:["\xA3",o.toFixed(2)]})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("dt",{children:" Min. Amount"}),(0,e.jsxs)("dd",{children:["\xA3",a.toFixed(2)]})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("dt",{children:"Max. Amount"}),(0,e.jsxs)("dd",{children:["\xA3",n.toFixed(2)]})]})]})]})}var M=N;var B=s(S()),D=s(C()),l=s(d()),k=()=>{let t=h();return(0,l.jsxs)("main",{children:[(0,l.jsx)(b,{expenses:t}),(0,l.jsx)(M,{expenses:t})]})},J=k;var L=()=>{var a,n;let t=p();return(0,l.jsx)("main",{children:(0,l.jsxs)(x,{title:t.statusText,children:[(0,l.jsx)("p",{children:((a=t.data)==null?void 0:a.message)||"Something went wrong, couldn't load expenses."}),((n=t.data)==null?void 0:n.message)&&(0,l.jsxs)("p",{children:["Start ",(0,l.jsx)(v,{to:"/expenses/add",children:"adding some"})," today."]})]})})};export{L as CatchBoundary,J as default};
