{
  "version": 3,
  "sources": ["empty-module:~/data/auth.server", "../../../../app/components/auth/AuthForm.jsx", "../../../../app/routes/__marketing/auth.jsx"],
  "sourcesContent": ["module.exports = {};", "import { Form, Link, useActionData, useNavigation, useSearchParams } from \"@remix-run/react\";\nimport { FaLock, FaUserPlus } from \"react-icons/fa\";\n\nfunction AuthForm() {\n  const [searchParams] = useSearchParams();\n  const navigation = useNavigation();\n  const validationErrors = useActionData();\n  const authMode = searchParams.get(\"mode\") || \"login\";\n  const isLoginMode = authMode === \"login\";\n  const submitBtnCaption = isLoginMode ? \"Login\" : \"Register\";\n  const toggleBtnCaption = isLoginMode ? \"Create new user\" : \"Log in existing user\";\n\n  const isSubmitting = navigation.state !== \"idle\";\n\n  return (\n    <Form method=\"post\" className=\"form\" id=\"auth-form\">\n      <div className=\"icon-img\">{isLoginMode ? <FaLock /> : <FaUserPlus />}</div>\n      <p>\n        <label htmlFor=\"email\">Email Address</label>\n        <input type=\"email\" id=\"email\" name=\"email\" required />\n      </p>\n      <p>\n        <label htmlFor=\"password\">Password</label>\n        <input type=\"password\" id=\"password\" name=\"password\" minLength={7} />\n      </p>\n      {validationErrors && (\n        <ul>\n          {Object.values(validationErrors).map((error) => (\n            <li key={error}>{error}</li>\n          ))}\n        </ul>\n      )}\n      <div className=\"form-actions\">\n        <button disabed={isSubmitting}>{isSubmitting ? \"Authenticating...\" : submitBtnCaption}</button>\n        <Link to={isLoginMode ? \"?mode=signup\" : \"?mode=login\"}>{toggleBtnCaption}</Link>\n      </div>\n    </Form>\n  );\n}\n\nexport default AuthForm;\n", "import { redirect } from \"@remix-run/node\";\nimport AuthForm from \"~/components/auth/AuthForm\";\nimport { signUp } from \"~/data/auth.server\";\nimport { validateCredentials } from \"~/data/validation.server\";\nimport authStyles from \"~/styles/auth.css\";\n\nconst AuthPage = () => {\n  return <AuthForm />;\n};\n\nexport default AuthPage;\n\nexport const action = async ({ request }) => {\n  const searchParams = new URL(request.url).searchParams;\n  const authMode = searchParams.get(\"mode\") || \"login\";\n\n  const formData = await request.formData();\n  const credentials = Object.fromEntries(formData);\n\n  try {\n    validateCredentials(credentials);\n  } catch (error) {\n    return error;\n  }\n\n  try {\n    if (authMode === \"login\") {\n      // login user\n    } else {\n      await signUp(credentials);\n      return redirect(\"/expenses\");\n    }\n  } catch (error) {\n    if (error.statusCode === \"422\") {\n      return {};\n    }\n  }\n};\n\nexport function links() {\n  return [{ rel: \"stylesheet\", href: authStyles }];\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA,WAAO,UAAU,CAAC;AAAA;AAAA;;;ACgB6B;AAb/C,SAAS,WAAW;AAClB,QAAM,CAAC,YAAY,IAAI,gBAAgB;AACvC,QAAM,aAAa,cAAc;AACjC,QAAM,mBAAmB,cAAc;AACvC,QAAM,WAAW,aAAa,IAAI,MAAM,KAAK;AAC7C,QAAM,cAAc,aAAa;AACjC,QAAM,mBAAmB,cAAc,UAAU;AACjD,QAAM,mBAAmB,cAAc,oBAAoB;AAE3D,QAAM,eAAe,WAAW,UAAU;AAE1C,SACE,mDAAC,QAAK,QAAO,QAAO,WAAU,QAAO,IAAG,aACtC;AAAA,uDAAC,SAAI,WAAU,YAAY,wBAAc,mDAAC,YAAD;AAAA;AAAA;AAAA;AAAA,WAAQ,IAAK,mDAAC,gBAAD;AAAA;AAAA;AAAA;AAAA,WAAY,KAAlE;AAAA;AAAA;AAAA;AAAA,WAAqE;AAAA,IACrE,mDAAC,OACC;AAAA,yDAAC,WAAM,SAAQ,SAAQ,6BAAvB;AAAA;AAAA;AAAA;AAAA,aAAoC;AAAA,MACpC,mDAAC,WAAM,MAAK,SAAQ,IAAG,SAAQ,MAAK,SAAQ,UAAQ,QAApD;AAAA;AAAA;AAAA;AAAA,aAAqD;AAAA,SAFvD;AAAA;AAAA;AAAA;AAAA,WAGA;AAAA,IACA,mDAAC,OACC;AAAA,yDAAC,WAAM,SAAQ,YAAW,wBAA1B;AAAA;AAAA;AAAA;AAAA,aAAkC;AAAA,MAClC,mDAAC,WAAM,MAAK,YAAW,IAAG,YAAW,MAAK,YAAW,WAAW,KAAhE;AAAA;AAAA;AAAA;AAAA,aAAmE;AAAA,SAFrE;AAAA;AAAA;AAAA;AAAA,WAGA;AAAA,IACC,oBACC,mDAAC,QACE,iBAAO,OAAO,gBAAgB,EAAE,IAAI,CAAC,UACpC,mDAAC,QAAgB,mBAAR,OAAT;AAAA;AAAA;AAAA;AAAA,WAAuB,CACxB,KAHH;AAAA;AAAA;AAAA;AAAA,WAIA;AAAA,IAEF,mDAAC,SAAI,WAAU,gBACb;AAAA,yDAAC,YAAO,SAAS,cAAe,yBAAe,sBAAsB,oBAArE;AAAA;AAAA;AAAA;AAAA,aAAsF;AAAA,MACtF,mDAAC,QAAK,IAAI,cAAc,iBAAiB,eAAgB,8BAAzD;AAAA;AAAA;AAAA;AAAA,aAA0E;AAAA,SAF5E;AAAA;AAAA;AAAA;AAAA,WAGA;AAAA,OApBF;AAAA;AAAA;AAAA;AAAA,SAqBA;AAEJ;AAEA,IAAO,mBAAQ;;;ACtCf,kBAAuB;AACvB,wBAAoC;;;;;;AAI3B,IAAAA,0BAAA;AADT,IAAM,WAAW,MAAM;AACrB,SAAO,oDAAC,sBAAD;AAAA;AAAA;AAAA;AAAA,SAAU;AACnB;AAEA,IAAOC,gBAAQ;AA6BR,SAAS,QAAQ;AACtB,SAAO,CAAC,EAAE,KAAK,cAAc,MAAM,aAAW,CAAC;AACjD;",
  "names": ["import_jsx_dev_runtime", "auth_default"]
}
